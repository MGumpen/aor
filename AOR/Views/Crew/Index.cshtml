@{
    ViewData["Title"] = "AOR - Aviation Obstacle Registration";
    Layout = "_Layout";
}

<link rel="stylesheet" href="~/css/Crew/Index.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">

<div class="welcome-popup" id="welcome-popup">
    <div class="welcome-popup-content">
        <h3>Welcome to AOR</h3>
        <p> Use the map to register obstacles by clicking to place markers and dragging to adjust positions.
            The system is using your current position.</p>
        <button onclick="closeWelcomePopup()">OK</button>
    </div>
</div>

<div class="map-container">
    <div id="obstacle-map"></div>
    
    <button class="location-btn" onclick="showMyLocation()">
        My Location
    </button>
    
    <div class="points-panel" id="points-panel">
        <div class="points-panel-header">
            <h3 class="points-panel-title" id="panel-title" onclick="togglePointsPanel()" title="Click to hide panel">Points</h3>
            <div class="panel-controls">
                <button class="panel-btn confirm" onclick="confirmDrawing()" title="Confirm">✓</button>
                <button class="panel-btn cancel" onclick="cancelDrawing()" title="Cancel">✕</button>
            </div>
        </div>
        <div class="points-list" id="points-list"></div>
    </div>
    
    <div class="drawing-notification" id="drawing-notification">
        Tap to place • View details in panel
    </div>
    
    <div class="action-buttons">
        <button class="main-action-btn btn-line" onclick="startDrawing('line')">
            Line
        </button>
        <button class="main-action-btn btn-mast" onclick="startDrawing('mast')">
            Mast
        </button>
        <button class="main-action-btn btn-other" onclick="startDrawing('other')">
            Other
        </button>
    </div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="~/js/Crew/Index.js"></script>
