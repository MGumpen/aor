@model IEnumerable<AOR.Models.Data.ReportModel>
@using AOR.Data
@using Microsoft.AspNetCore.Identity
@inject UserManager<User> UserManager

@{
    var currentUser = await UserManager.GetUserAsync(User);
    Layout = "_Layout";
    ViewData["Title"] = "Registrar - Dashboard";
    var assignedPending = (ViewBag.AssignedPendingCount as int?) ?? 0;
    var unassignedPending = (ViewBag.UnassignedPendingCount as int?) ?? 0;
}

<link rel="stylesheet" href="~/css/Registrar/Index.css" />


<section class="container align-content-center">

<div class="admin-wrapper">
    <h2>Welcome, @($"{currentUser?.FirstName} {currentUser?.LastName}")</h2>

    <div class="admin-grid">
        <a class="admin-tile" asp-action="AllReports">All reports @if(unassignedPending > 0) { <span class="badge badge-orange ms-2">@unassignedPending Pending, not assigned</span> }</a>
        <a class="admin-tile" asp-action="AssignedReports">Assigned reports @if(assignedPending > 0) { <span class="badge badge-orange ms-2">@assignedPending Pending</span> }</a>
    </div>
</div>

</section>

<script>
    document.addEventListener('DOMContentLoaded', function(){
        var first = document.querySelector('.admin-tile');
        if(first) first.setAttribute('tabindex','0');
    });
</script>
